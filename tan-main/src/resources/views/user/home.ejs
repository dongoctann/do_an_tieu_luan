<%- include('headerUser.ejs') %>

<!-- Banner Carousel -->
<div class="banner owl-carousel owl-theme" style="padding: 0;">
  <div class="slide" style="background: url('/img/slide2.png') no-repeat center/cover; height: 450px; position: relative;">
    <div class="slide-content container h-100 d-flex align-items-center">
      <div class="text-start text-dark">
        <h1 class="fw-bold animate__animated animate__fadeInUp">Khám phá công nghệ mới</h1>
        <p class="lead animate__animated animate__fadeInUp animate__delay-1s">Trải nghiệm laptop mạnh mẽ, hiện đại</p>
        <a href="/all_product" class="btn btn-warning mt-3 animate__animated animate__fadeInUp animate__delay-2s">Mua ngay</a>
      </div>
    </div>
  </div>
  <div class="slide" style="background: url('/img/slide1.png') no-repeat center/cover; height: 450px; position: relative;">
    <div class="slide-content container h-100 d-flex align-items-center">
      <div class="text-start text-dark">
        <h1 class="fw-bold animate__animated animate__fadeInUp">Ưu đãi cực sốc</h1>
        <p class="lead animate__animated animate__fadeInUp animate__delay-1s">Giảm giá lên đến 30%</p>
        <a href="/all_product" class="btn btn-warning mt-3 animate__animated animate__fadeInUp animate__delay-2s">Xem thêm</a>
      </div>
    </div>
  </div>
  <div class="slide" style="background: url('/img/slide3.png') no-repeat center/cover; height: 450px; position: relative;">
    <div class="slide-content container h-100 d-flex align-items-center">
      <div class="text-start text-dark">
        <h1 class="fw-bold animate__animated animate__fadeInUp">Thiết kế đẳng cấp</h1>
        <p class="lead animate__animated animate__fadeInUp animate__delay-1s">Phong cách dẫn đầu xu hướng</p>
        <a href="/all_product" class="btn btn-warning mt-3 animate__animated animate__fadeInUp animate__delay-2s">Khám phá</a>
      </div>
    </div>
  </div>
</div>

<div class="container my-5">
  <!-- Sản phẩm nổi bật -->
  <div class="san_pham_noi_bat">
    <h2 class="text-center mb-5 fw-bold" style="color: #027b9a;">Sản phẩm nổi bật</h2>
    <div class="owl-carousel owl-theme">
      <% const featuredProducts = [
        { img: 'img/macbook.jpg', name: 'MacBook Air 13 inch M1 2020', ram: '8GB', ssd: '128GB', price: '20.000.000' },
        { img: 'img/asuss.jpg', name: 'Asus ZenBook 14', ram: '16GB', ssd: '512GB', price: '25.000.000' },
        { img: 'img/hp.jpg', name: 'HP Spectre x360', ram: '16GB', ssd: '1TB', price: '35.000.000' },
        { img: 'img/mis.jpg', name: 'MSI Prestige 15', ram: '32GB', ssd: '1TB', price: '40.000.000' },
        { img: 'img/len.jpg', name: 'Lenovo ThinkPad X1', ram: '16GB', ssd: '512GB', price: '30.000.000' }
      ]; %>
      <% featuredProducts.forEach(product => { %>
        <div class="item">
          <div class="card shadow-sm border-0">
            <img src="<%= product.img %>" class="card-img-top" alt="<%= product.name %>">
            <div class="card-body text-center">
              <h5 class="card-title fw-bold"><%= product.name %></h5>
              <p class="text-muted">RAM: <%= product.ram %> | SSD: <%= product.ssd %></p>
              <p class="fw-bold text-danger"><%= product.price %> VND</p>
              <a href="/all_product" class="btn btn-outline-primary btn-sm">Xem chi tiết</a>
            </div>
          </div>
        </div>
      <% }); %>
    </div>
  </div>

 <!-- Hãng máy tính -->
<div class="hang_san_xuat text-center my-5">
    <h2 class="mb-4 fw-bold" style="color: #027b9a;">Hãng máy tính hàng đầu</h2>
    <div class="d-flex flex-wrap justify-content-center gap-4">
      <a href="/search_product_all_user?name=HP" class="brand-link" title="Tìm sản phẩm HP">
        <img class="hangmaytinh" src="img/hp.png" alt="HP">
      </a>
      <a href="/search_product_all_user?name=Lenovo" class="brand-link" title="Tìm sản phẩm Lenovo">
        <img class="hangmaytinh" src="img/lenovo.png" alt="Lenovo">
      </a>
      <a href="/search_product_all_user?name=Macbook" class="brand-link" title="Tìm sản phẩm MacBook">
        <img class="hangmaytinh" src="img/macbook.png" alt="MacBook">
      </a>
      <a href="/search_product_all_user?name=MSI" class="brand-link" title="Tìm sản phẩm MSI">
        <img class="hangmaytinh" src="img/mis.png" alt="MSI">
      </a>
      <a href="/search_product_all_user?name=Dell" class="brand-link" title="Tìm sản phẩm Dell">
        <img class="hangmaytinh" src="img/dell.png" alt="Dell">
      </a>
      <a href="/search_product_all_user?name=Asus" class="brand-link" title="Tìm sản phẩm Asus">
        <img class="hangmaytinh" src="img/asus.png" alt="Asus">
      </a>
      <a href="/search_product_all_user?name=Acer" class="brand-link" title="Tìm sản phẩm Acer">
        <img class="hangmaytinh" src="img/acer.png" alt="Acer">
      </a>
    </div>
  </div>
  
  <!-- CSS bổ sung (giữ nguyên như trước) -->
  <style>
    .hangmaytinh {
      height: 60px;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }
    .brand-link {
      display: inline-block;
      text-decoration: none;
    }
    .brand-link:hover .hangmaytinh {
      transform: scale(1.1);
      opacity: 0.9;
    }
  </style>

  <!-- Sản phẩm bán chạy -->
  <div class="danh_sach_san_pham my-5">
    <h2 class="text-center mb-5 fw-bold" style="color: #027b9a;">Sản phẩm bán chạy</h2>
    <div class="row justify-content-center">
      <% if (data && data.length > 0) { %>
        <% data.forEach(product => { %>
          <div class="col-md-6 col-lg-3 mb-4">
            <div class="card product-card h-100 shadow-sm">
              <a href="/chi_tiet_sp/<%= product.chi_tiet_id %>">
                <img src="imgUpload/<%= product.hinh_anh %>" class="card-img-top product-img" alt="<%= product.ten_san_pham %>">
              </a>
              <div class="card-body d-flex flex-column">
                <h5 class="card-title fw-bold"><%= product.ten_san_pham %></h5>
                <div class="product-info mt-2">
                  <p class="text-muted mb-1">Dung lượng: <%= product.ten_dung_luong %></p>
                  <p class="text-muted mb-1">Màu: <%= product.ten_mau_sac %></p>
                  <p class="price text-danger fw-bold mb-3"><%= product.gia_ban.toLocaleString() %> VND</p>
                </div>
                <div class="mt-auto text-center">
                  <a href="/add_to_cart/<%= product.chi_tiet_id %>" class="btn btn-outline-primary btn-sm me-2">
                    <i class="fa-solid fa-cart-shopping"></i> Giỏ hàng
                  </a>
                  <a href="/dat_hang/<%= product.chi_tiet_id %>" class="btn btn-success btn-sm">Mua ngay</a>
                </div>
              </div>
            </div>
          </div>
        <% }); %>
      <% } else { %>
        <div class="col-12 text-center py-5">
          <p class="text-muted">Không có dữ liệu</p>
        </div>
      <% } %>
    </div>
    <div class="text-center mt-4">
      <a class="btn btn-outline-primary" href="/all_product">Xem thêm</a>
    </div>
  </div>

  <!-- Nội dung quan tâm -->
  <div class="content my-5">
    <h2 class="fw-bold mb-4" style="color: #027b9a;">Có thể bạn quan tâm</h2>
    <p class="text-muted">Máy tính laptop là thiết bị công nghệ được yêu thích nhờ tính tiện lợi, đáp ứng tốt nhu cầu học tập, làm việc và giải trí...</p>
    <button id="showMoreBtn" class="btn btn-outline-primary btn-sm" onclick="showMore()">Xem thêm</button>
    <div id="fullContent" style="display: none;" class="mt-3 text-muted">
      <p><span class="fw-bold">Lợi ích khi sử dụng laptop:</span> Hệ điều hành tối ưu, đầy đủ phụ kiện, dễ nâng cấp, lưu trữ nhiều dữ liệu...</p>
    </div>
  </div>
</div>
<!--chatbot -->
<script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
<df-messenger
  intent="WELCOME"
  chat-title="chatbot"
  agent-id="67589d5c-47cc-42ed-bbf5-7a7ff305265e"
  language-code="vi"
></df-messenger>

<!-- Custom CSS -->
<style>
  .banner .slide {
    background-size: cover;
    background-position: center;
    position: relative;
  }
  .banner .slide::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* background: rgba(0, 0, 0, 0.4); Overlay tối để chữ nổi bật */
  }
  .slide-content {
    position: relative;
    z-index: 1;
  }
  .card {
    border-radius: 10px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .card:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
  }
  .card-img-top {
    height: 200px;
    object-fit: contain;
    padding: 15px;
    background: #f8f9fa;
  }
  .hangmaytinh {
    height: 60px;
    transition: transform 0.3s ease;
  }
  .hangmaytinh:hover {
    transform: scale(1.1);
  }
  .btn-warning {
    background-color: #ffd700;
    border-color: #ffd700;
    color: #027b9a;
  }
  .btn-warning:hover {
    background-color: #e6c200;
    border-color: #e6c200;
  }
  .btn-outline-primary {
    border-color: #027b9a;
    color: #027b9a;
  }
  .btn-outline-primary:hover {
    background-color: #027b9a;
    color: #fff;
  }
</style>

<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
  $(document).ready(function(){
    $('.banner').owlCarousel({
      loop: true,
      margin: 0,
      nav: true,
      items: 1,
      autoplay: true,
      autoplayTimeout: 5000,
    });
    $('.san_pham_noi_bat .owl-carousel').owlCarousel({
      loop: true,
      margin: 20,
      nav: true,
      responsive: {
        0: { items: 1 },
        600: { items: 3 },
        1000: { items: 4 }
      }
    });
  });
  function showMore() {
    const content = document.getElementById('fullContent');
    const btn = document.getElementById('showMoreBtn');
    if (content.style.display === 'none') {
      content.style.display = 'block';
      btn.textContent = 'Thu gọn';
    } else {
      content.style.display = 'none';
      btn.textContent = 'Xem thêm';
    }
  }
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<%- include('footerUser.ejs') %>